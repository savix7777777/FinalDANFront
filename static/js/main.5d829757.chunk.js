(this.webpackJsonpfinal=this.webpackJsonpfinal||[]).push([[0],{26:function(e,t,a){e.exports=a(39)},31:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(13),r=a.n(o),s=a(9),i=a(4),l=(a(31),a(1)),m=a(2),u=function(e){return{type:"CHANGE_STYLE",payload:e}},d=function(e){return console.log(e),{type:"SAVE_CHOOSE_TEMPLATE_CHANGES",payload:e}},f=function(e){return{type:"SAVE_MONGODB_STYLE_ID",payload:e}},b=a(3),g=function(e){var t=e.children,a=e.onClick,c=e.className;return n.a.createElement("button",{className:c,onClick:a},t)};g.defaultProps={children:"Button",onClick:function(){},className:"button"};var p=g,v=function(e){var t=e.children;return r.a.createPortal(t,document.body)},h=!0,E=function(e){var t=e.text,a=e.buttonConfirmText,o=e.buttonCancelText,r=e.func,s=Object(m.c)(),i=Object(c.useState)({div:{bc:"#14B9D5",color:"#ffffff",height:"10",className:"modal-box"}}),f=Object(l.a)(i,2),b=f[0],g=f[1],v=Object(c.useState)(),E=Object(l.a)(v,2),O=E[0],j=E[1],y=Object(c.useState)(),N=Object(l.a)(y,2),_=N[0],S=N[1],w=Object(m.d)((function(e){if(b)try{if(b[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},b);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return b}return b}),m.b),C=Object(m.d)((function(e){return e.stylePanelState}),m.b),k=function(e){return s(u(e))};Object(c.useEffect)((function(){h&&g(w),h=!h}),[w]),s(d({modal:{styles:b}}));return n.a.createElement("div",{onMouseOver:function(e){if(e.preventDefault(),C)for(var t in b)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},b);"rgb(0,57,167)"!==a[t].bc&&j(a[t].bc),"rgb(76,131,253)"!==a[t].color&&S(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),g(a)}},onMouseOut:function(e){if(e.preventDefault(),C)for(var t in b)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},b);a[t].bc&&(a[t].bc=O),a[t].color&&(a[t].color=_),g(a)}},onClick:function(e){for(var t in e.stopPropagation(),b)t===e.target.tagName.toLowerCase()&&k(Object.assign(b[t],{tag:t}))},style:{backgroundColor:b.div.bc,color:b.div.color,height:"".concat(b.div.height,"em")},className:"modal"},n.a.createElement("p",null,t),n.a.createElement("divbox",{className:"modal__button-box"},n.a.createElement(p,{className:"modal__confirm",onClick:function(){r(!0)}},a),n.a.createElement(p,{className:"modal__cancel",onClick:function(){r(!1)}},o)))},O=function(e){var t=e.chooseTemplate,a=Object(m.c)(),o=Object(m.d)((function(e){return e.modalState}),m.b),r=function(){return a({type:"CHANGE_MODAL_STATE"})},s=Object(c.useState)(),i=Object(l.a)(s,2),u=i[0],d=i[1],f=function(){""===u.parentNode.id?t(u.parentNode.parentNode.id):t(u.parentNode.id)},b=function(e){var t=e.target;d(t),!o&&r()};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"choose-template__templates-box"},n.a.createElement("p",null,"Choose a template"),n.a.createElement("div",{className:"choose-template__row"},n.a.createElement("div",{onClick:b,id:"one",className:"choose-template__template-item"},n.a.createElement("div",{className:"choose-template__one"}," ")),n.a.createElement("div",{className:"choose-template__template-item"},n.a.createElement("div",{onClick:b,id:"twoInRow",className:"choose-template__two-inRow-box"},n.a.createElement("div",{className:"choose-template__two-inRow"}," "),n.a.createElement("div",{className:"choose-template__two-inRow"}," "))),n.a.createElement("div",{className:"choose-template__template-item"},n.a.createElement("div",{onClick:b,id:"twoInColumn",className:"choose-template__two-inColumn-box"},n.a.createElement("div",{className:"choose-template__two-inColumn"}," "),n.a.createElement("div",{className:"choose-template__two-inColumn"}," ")))),n.a.createElement("div",{className:"choose-template__row"},n.a.createElement("div",{className:"choose-template__template-item"},n.a.createElement("div",{id:"grid",className:"choose-template__grid-subBox"},n.a.createElement("div",{className:"choose-template__grid-box"},n.a.createElement("div",{onClick:b,className:"choose-template__grid"}," "),n.a.createElement("div",{onClick:b,className:"choose-template__grid"}," ")),n.a.createElement("div",{className:"choose-template__grid-box"},n.a.createElement("div",{onClick:b,className:"choose-template__grid"}," "),n.a.createElement("div",{onClick:b,className:"choose-template__grid"}," ")))),n.a.createElement("div",{onClick:b,id:"rightContent",className:"choose-template__template-item"},n.a.createElement("div",{className:"choose-template__right-content-box"},n.a.createElement("div",{className:"choose-template__right-content-small"}," "),n.a.createElement("div",{className:"choose-template__right-content-small"}," ")),n.a.createElement("div",{className:"choose-template__right-content-box"},n.a.createElement("div",{className:"choose-template__right-content-big"}," "))),n.a.createElement("div",{onClick:b,id:"leftContent",className:"choose-template__template-item"},n.a.createElement("div",{className:"choose-template__right-content-box"},n.a.createElement("div",{className:"choose-template__right-content-big"}," ")),n.a.createElement("div",{className:"choose-template__right-content-box"},n.a.createElement("div",{className:"choose-template__right-content-small"}," "),n.a.createElement("div",{className:"choose-template__right-content-small"}," "))))),o&&n.a.createElement(v,null,n.a.createElement(E,{text:"Are you sure you want to change template ?",buttonConfirmText:"Confirm",buttonCancelText:"Cancel",func:function(e){e&&f(),r()}})))},j=a(6),y=a.n(j),N=a(7),_=function(e){var t=e.addTag,a=e.divCount,c=function(e){var a=e.target;""!==a.id?t(a.id):""===a.id?t(a.parentNode.id):""===a.parentNode.id&&t(a.parentNode.parentNode.id)};return n.a.createElement("div",{className:"tags-modal ".concat(0!==a&&"tags-modal-small")},n.a.createElement("p",{onClick:c,id:"p"},n.a.createElement("i",{className:"fas fa-angle-left"}," "),"P",n.a.createElement("i",{className:"fas fa-angle-right"}," ")),n.a.createElement("p",{onClick:c,id:"link"},n.a.createElement("i",{className:"fas fa-angle-left"}," "),"Link",n.a.createElement("i",{className:"fas fa-angle-right"}," ")),n.a.createElement("p",{onClick:c,id:"img"},n.a.createElement("i",{className:"fas fa-angle-left"}," "),"Img",n.a.createElement("i",{className:"fas fa-angle-right"}," ")),n.a.createElement("p",{onClick:c,id:"video"},n.a.createElement("i",{className:"fas fa-angle-left"}," "),"Video",n.a.createElement("i",{className:"fas fa-angle-right"}," ")),n.a.createElement("p",{onClick:c,id:"div"},n.a.createElement("i",{className:"fas fa-angle-left"}," "),"Box",n.a.createElement("i",{className:"fas fa-angle-right"}," ")))},S=!0,w=function(e){var t,a=e.classKey,o=e.admin,r=e.deleteKey,s=e.deleteItem,i=e.data,f=Object(m.c)(),g=Object(c.useState)(!1),v=Object(l.a)(g,2),h=v[0],E=v[1],O=Object(c.useState)(i["p-".concat(a)]?i["p-".concat(a)].styles:{p:{bc:"#ffffff",fontSize:"25",width:"10",color:"#000000",marginTop:"0",marginBottom:"0",marginLeft:"0",className:"p-".concat(a)}}),j=Object(l.a)(O,2),y=j[0],N=j[1],_=Object(c.useState)(),w=Object(l.a)(_,2),C=w[0],k=w[1],x=Object(c.useState)(),T=Object(l.a)(x,2),L=T[0],I=T[1],D=Object(c.useState)(i["p-".concat(a)]?i["p-".concat(a)].text:"Text"),P=Object(l.a)(D,2),z=P[0],M=P[1],A=Object(m.d)((function(e){if(y)try{if(y[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},y);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return y}return y}),m.b),B=Object(m.d)((function(e){return e.stylePanelState}),m.b),K=function(e){return f(u(e))};Object(c.useEffect)((function(){S&&N(A),S=!S}),[A]),t=Object(b.a)({},"p-".concat(a),{styles:y,text:z,key:"p-".concat(a)}),f(d(t));return n.a.createElement("p",{onMouseOver:function(e){if(e.preventDefault(),B)for(var t in y)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},y);"rgb(0,57,167)"!==a[t].bc&&k(a[t].bc),"rgb(76,131,253)"!==a[t].color&&I(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),N(a)}},onMouseOut:function(e){if(e.preventDefault(),B)for(var t in y)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},y);a[t].bc&&(a[t].bc=C),a[t].color&&(a[t].color=L),N(a)}},style:{marginTop:"".concat(y.p.marginTop,"%"),marginBottom:"".concat(y.p.marginBottom,"%"),marginLeft:"".concat(y.p.marginLeft,"%"),backgroundColor:y.p.bc,fontSize:"".concat(y.p.fontSize,"px"),width:"".concat(y.p.width,"%"),color:y.p.color},onClick:function(e){for(var t in y)t===e.target.tagName.toLowerCase()&&K(Object.assign(y[t],{tag:t}))},className:"p"},h&&n.a.createElement("input",{onChange:function(e){var t=e.target;M(t.value)},value:z}),!h&&z,o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p,{className:"p-delete",onClick:function(){s(r,"p",["p-".concat(a)])}},n.a.createElement("i",{className:"fas fa-trash-alt"}," ")),n.a.createElement(p,{className:"p-edit",onClick:function(){E(!h)}},n.a.createElement("i",{className:"fas fa-edit"}," "))))},C=!0,k=function(e){var t,a=e.admin,o=e.classKey,r=e.deleteKey,s=e.deleteItem,i=e.data,f=Object(m.c)(),g=Object(c.useState)(i["img-".concat(o)]?i["img-".concat(o)].styles:{img:{marginTop:"0",marginBottom:"0",marginLeft:"0",width:"250",height:"10",className:"img-".concat(o)}}),v=Object(l.a)(g,2),h=v[0],E=v[1],O=Object(c.useState)(!1),j=Object(l.a)(O,2),y=j[0],N=j[1],_=Object(c.useState)(i["img-".concat(o)]?i["img-".concat(o)].imgSrc:""),S=Object(l.a)(_,2),w=S[0],k=S[1],x=Object(m.d)((function(e){if(h)try{if(h[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},h);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return h}return h}),m.b),T=function(e){return f(u(e))};Object(c.useEffect)((function(){C&&E(x),C=!C}),[x]),t=Object(b.a)({},"img-".concat(o),{styles:h,imgSrc:w,key:"img-".concat(o)}),f(d(t));var L=function(e){var t=e.target;k(t.value)};return n.a.createElement("div",{className:"img"},!y&&n.a.createElement("img",{style:{marginTop:"".concat(h.img.marginTop,"%"),marginBottom:"".concat(h.img.marginBottom,"%"),marginLeft:"".concat(h.img.marginLeft,"%"),width:"".concat(h.img.width,"px"),height:"".concat(h.img.height,"em")},onClick:function(e){for(var t in e.stopPropagation(),h)t===e.target.tagName.toLowerCase()&&T(Object.assign(h[t],{tag:t}))},alt:"img",src:w}),y&&n.a.createElement(n.a.Fragment,null,"File:",n.a.createElement("input",{className:"img__input",onChange:L,type:"file",accept:"image/*"}),"Link:",n.a.createElement("input",{className:"img__input",onChange:L,value:w,placeholder:"Link to img"})),a&&n.a.createElement("div",{className:"tags-constructor__control-buttons",style:{marginTop:"".concat(h.img.marginTop,"%"),marginBottom:"".concat(h.img.marginBottom,"%")}},n.a.createElement(p,{className:"p-delete",onClick:function(){s(r,"img",["img-".concat(o)])}},n.a.createElement("i",{className:"fas fa-trash-alt"}," ")),n.a.createElement(p,{className:"p-edit",onClick:function(){N(!y)}},n.a.createElement("i",{className:"fas fa-edit"}," "))))},x=!0,T=function(e){var t,a=e.admin,o=e.classKey,r=e.deleteKey,s=e.deleteItem,i=e.data,f=Object(m.c)(),g=Object(c.useState)(i["video-".concat(o)]?i["video-".concat(o)].styles:{video:{marginTop:"0",marginBottom:"0",marginLeft:"0",width:"250",className:"video-".concat(o)}}),v=Object(l.a)(g,2),h=v[0],E=v[1],O=Object(c.useState)(!1),j=Object(l.a)(O,2),y=j[0],N=j[1],_=Object(c.useState)(i["video-".concat(o)]?i["video-".concat(o)].videoSrc:""),S=Object(l.a)(_,2),w=S[0],C=S[1],k=Object(m.d)((function(e){if(h)try{if(h[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},h);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return h}return h}),m.b),T=function(e){return f(u(e))};Object(c.useEffect)((function(){x&&E(k),x=!x}),[k]),t=Object(b.a)({},"video-".concat(o),{styles:h,videoSrc:w,key:"video-".concat(o)}),f(d(t));var L=function(e){var t=e.target;C(t.value)};return n.a.createElement("div",{className:"img"},!y&&n.a.createElement("video",{autoPlay:!0,controls:!0,style:{marginTop:"".concat(h.video.marginTop,"%"),marginBottom:"".concat(h.video.marginBottom,"%"),marginLeft:"".concat(h.video.marginLeft,"%"),width:"".concat(h.video.width,"px")},onClick:function(e){for(var t in e.stopPropagation(),h)t===e.target.tagName.toLowerCase()&&T(Object.assign(h[t],{tag:t}))},src:w}),y&&n.a.createElement(n.a.Fragment,null,"File:",n.a.createElement("input",{className:"img__input",onChange:L,type:"file",accept:"video/*"}),"Link:",n.a.createElement("input",{className:"img__input",onChange:L,value:w,placeholder:"Link to video"})),a&&n.a.createElement("div",{className:"tags-constructor__control-buttons",style:{marginTop:"".concat(h.video.marginTop,"%"),marginBottom:"".concat(h.video.marginBottom,"%")}},n.a.createElement(p,{className:"p-delete",onClick:function(){s(r,"video",["video-".concat(o)])}},n.a.createElement("i",{className:"fas fa-trash-alt"}," ")),n.a.createElement(p,{className:"p-edit",onClick:function(){N(!y)}},n.a.createElement("i",{className:"fas fa-edit"}," "))))},L=a(17),I=!0,D=function(e){var t,a=e.admin,o=e.classKey,r=e.deleteKey,s=e.deleteItem,i=e.data,f=Object(c.useState)(!1),g=Object(l.a)(f,2),v=g[0],h=g[1],E=Object(c.useState)(i["link-".concat(o)]?i["link-".concat(o)].linkInfo:{href:"/".concat(a?"admin":"user","/home"),text:"Link"}),O=Object(l.a)(E,2),j=O[0],y=O[1],N=Object(m.c)(),_=Object(c.useState)(i["link-".concat(o)]?i["link-".concat(o)].styles:{div:{bc:"#ffffff",fontSize:"25",width:"15",marginTop:"0",marginBottom:"0",marginLeft:"0",className:"link-".concat(o)}}),S=Object(l.a)(_,2),w=S[0],C=S[1],k=Object(c.useState)(),x=Object(l.a)(k,2),T=x[0],D=x[1],P=Object(c.useState)(),z=Object(l.a)(P,2),M=z[0],A=z[1],B=Object(m.d)((function(e){if(w)try{if(w[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},w);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return w}return w}),m.b),K=Object(m.d)((function(e){return e.stylePanelState}),m.b),F=function(e){return N(u(e))};Object(c.useEffect)((function(){I&&C(B),I=!I}),[B]),t=Object(b.a)({},"link-".concat(o),{styles:w,linkInfo:j,key:"link-".concat(o)}),N(d(t));return n.a.createElement("div",{onMouseOver:function(e){if(e.preventDefault(),K)for(var t in w)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},w);"rgb(0,57,167)"!==a[t].bc&&D(a[t].bc),"rgb(76,131,253)"!==a[t].color&&A(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),C(a)}},onMouseOut:function(e){if(e.preventDefault(),K)for(var t in w)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},w);a[t].bc&&(a[t].bc=T),a[t].color&&(a[t].color=M),C(a)}},onClick:function(e){for(var t in e.stopPropagation(),w)t===e.target.tagName.toLowerCase()&&F(Object.assign(w[t],{tag:t}))},style:{marginTop:"".concat(w.div.marginTop,"%"),marginBottom:"".concat(w.div.marginBottom,"%"),marginLeft:"".concat(w.div.marginLeft,"%"),backgroundColor:w.div.bc,fontSize:"".concat(w.div.fontSize,"px"),width:"".concat(w.div.width,"%")},className:"link"},!v&&n.a.createElement("a",{target:"_blank",href:j.href},j.text),v&&n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{onChange:function(e){var t=e.target;y(Object(L.a)(Object(L.a)({},j),{},{href:t.value}))},value:j.href,placeholder:"link"}),n.a.createElement("input",{onChange:function(e){var t=e.target;y(Object(L.a)(Object(L.a)({},j),{},{text:t.value}))},value:j.text,placeholder:"text"})),a&&n.a.createElement("div",{className:"tags-constructor__control-buttons"},n.a.createElement(p,{className:"p-delete",onClick:function(){s(r,"link",["link-".concat(o)])}},n.a.createElement("i",{className:"fas fa-trash-alt"}," ")),n.a.createElement(p,{className:"p-edit",onClick:function(){h(!v)}},n.a.createElement("i",{className:"fas fa-edit"}," "))))},P=!0,z=function e(t){var a=t.admin,o=t.classKey,r=t.divCount,s=t.deleteKey,i=t.deleteI,g=t.data,v=Object(m.c)(),h=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].styles:{div:{bc:"#ffffff",width:"50",marginTop:"0",marginBottom:"0",marginLeft:"0",br:"0",className:"box-".concat(o)}}),E=Object(l.a)(h,2),O=E[0],j=E[1],S=Object(c.useState)(!1),C=Object(l.a)(S,2),x=C[0],L=C[1],I=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].tagList:[]),z=Object(l.a)(I,2),M=z[0],A=z[1],B=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].divCounter:0),K=Object(l.a)(B,2),F=K[0],U=K[1],R=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].pCounter:0),H=Object(l.a)(R,2),J=H[0],Y=H[1],G=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].linkCounter:0),V=Object(l.a)(G,2),X=V[0],W=V[1],q=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].imgCounter:0),Q=Object(l.a)(q,2),Z=Q[0],$=Q[1],ee=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].videoCounter:0),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(g["box-".concat(o)]?g["box-".concat(o)].contentDirection:"row"),oe=Object(l.a)(ne,2),re=oe[0],se=oe[1],ie=Object(c.useState)(),le=Object(l.a)(ie,2),me=le[0],ue=le[1],de=Object(c.useState)(),fe=Object(l.a)(de,2),be=fe[0],ge=fe[1],pe=Object(m.d)((function(e){if(O)try{if(O[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},O);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return O}return O}),m.b),ve=Object(m.d)((function(e){return e.stylePanelState}),m.b),he=Object(m.d)((function(e){var t=e.mongoDBId;return localStorage.getItem("key")?localStorage.getItem("key"):t}),m.b),Ee=Object(m.d)((function(e){return e.projectChangedData}),m.b),Oe=function(e){return v(d(e))};Object(c.useEffect)((function(){P&&j(pe),P=!P}),[pe]),Oe(Object(b.a)({},"box-".concat(o),{styles:O,tagList:M,divCounter:F,pCounter:J,linkCounter:X,imgCounter:Z,videoCounter:ae,contentDirection:re,key:"box-".concat(o)}));var je=function(e){"row"===e.target.id?se("row"):se("column")},ye=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(Ee),!he){e.next=10;break}return e.next=4,fetch("http://localhost:5000/projectData/".concat(he),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});case 4:return t=e.sent,e.next=7,t.json();case 7:e.sent,e.next=18;break;case 10:return e.next=12,fetch("http://localhost:5000/projectData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});case 12:return a=e.sent,e.next=15,a.json();case 15:c=e.sent,localStorage.setItem("key","".concat(c.result._id)),n=localStorage.getItem("key"),v(f(n));case 18:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(N.a)(y.a.mark((function e(t,a,c){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(Object(b.a)({},c,""));case 2:return"div"===a&&U(F-1),"p"===a&&Y(J-1),"link"===a&&W(X-1),"img"===a&&$(Z-1),"video"===a&&ce(ae-1),n=M.slice(),e.next=10,n.splice(t,1);case 10:return e.next=12,A(n);case 12:return e.next=14,ye();case 14:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}();return n.a.createElement("div",{onMouseOver:function(e){if(e.preventDefault(),ve)for(var t in O)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},O);"rgb(0,57,167)"!==a[t].bc&&ue(a[t].bc),"rgb(76,131,253)"!==a[t].color&&ge(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),j(a)}},onMouseOut:function(e){if(e.preventDefault(),ve)for(var t in O)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},O);a[t].bc&&(a[t].bc=me),a[t].color&&(a[t].color=be),j(a)}},onClick:0===r?function(){}:function(e){for(var t in e.stopPropagation(),O)t===e.target.tagName.toLowerCase()&&(a=Object.assign(O[t],{tag:t}),v(u(a)));var a},className:"tags-constructor ".concat(0!==r&&"tags-constructor-border"," ").concat("column"===re&&"tags-constructor-column"),style:0===r?null:{marginTop:"".concat(O.div.marginTop,"%"),marginBottom:"".concat(O.div.marginBottom,"%"),marginLeft:"".concat(O.div.marginLeft,"%"),backgroundColor:O.div.bc,width:"".concat(O.div.width,"%"),borderRadius:"".concat(O.div.br,"px")}},x&&n.a.createElement(_,{divCount:r,addTag:function(e){if("div"===e&&0!==r);else{"div"===e&&U(F+1),"p"===e&&Y(J+1),"link"===e&&W(X+1),"img"===e&&$(Z+1),"video"===e&&ce(ae+1),L(!x);var t=M.slice();t.push(e),A(t)}}}),a&&n.a.createElement(p,{onClick:function(){L(!x)},className:"tags-constructor__show-tags ".concat(0!==r&&"tags-constructor__show-tags-small")},n.a.createElement("i",{className:"fas fa-plus"}," ")),Object(c.useMemo)((function(){return M.map((function(t,c){switch(t){case"p":return n.a.createElement(w,{data:g,admin:a,deleteItem:Ne,classKey:o+J+c,deleteKey:c,key:c});case"link":return n.a.createElement(D,{data:g,admin:a,deleteItem:Ne,classKey:o+X+c,deleteKey:c,key:c});case"img":return n.a.createElement(k,{data:g,admin:a,deleteItem:Ne,classKey:o+Z+c,deleteKey:c,key:c});case"video":return n.a.createElement(T,{data:g,admin:a,deleteItem:Ne,classKey:o+ae+c,deleteKey:c,key:c});case"div":return n.a.createElement(e,{data:g,admin:a,deleteI:Ne,divCount:F+c,deleteKey:c,classKey:o+F,key:c})}}))}),[M]),0!==r&&a&&n.a.createElement(p,{className:"tags-constructor__delete",onClick:function(){i(s,"div","box-".concat(o))}},n.a.createElement("i",{className:"fas fa-trash-alt"}," ")),a&&n.a.createElement("div",{className:"tags-constructor__button-box"},n.a.createElement(p,{onClick:je,className:"tags-constructor__button-box__i"},n.a.createElement("i",{id:"row",className:"fas fa-ellipsis-h"}," ")),n.a.createElement(p,{onClick:je,className:"tags-constructor__button-box__i"},n.a.createElement("i",{id:"column",className:"fas fa-ellipsis-v"}," "))))};z.defaultProps={deleteKey:0,deleteI:function(){}};var M,A=z,B=!0,K=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(r["one-".concat(o)]?r["one-".concat(o)].styles:{div:{width:"95",className:"one-".concat(o)}}),f=Object(l.a)(i,2),g=f[0],p=f[1],v=Object(m.d)((function(e){if(g)try{if(g[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},g);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return g}return g}),m.b),h=function(e){return s(u(e))};Object(c.useEffect)((function(){B&&p(v),B=!B}),[v]),t=Object(b.a)({},"one-".concat(o),{styles:g,key:"one-".concat(o)}),s(d(t));return n.a.createElement("div",{onClick:function(e){for(var t in g)t===e.target.tagName.toLowerCase()&&h(Object.assign(g[t],{tag:t}))},style:{width:"".concat(g.div.width,"%")},className:"one ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-1",admin:a}))},F=!0,U=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(r["twoInRow-".concat(o)]?r["twoInRow-".concat(o)].styles:{div:{width:"40",className:"two-in-row-".concat(o)}}),f=Object(l.a)(i,2),g=f[0],p=f[1],v=Object(m.d)((function(e){if(g)try{if(g[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},g);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return g}return g}),m.b),h=function(e){return s(u(e))};Object(c.useEffect)((function(){F&&p(v),F=!F}),[v]),t=Object(b.a)({},"twoInRow-".concat(o),{styles:g,key:"twoInRow-".concat(o)}),s(d(t));var E=function(e){for(var t in g)t===e.target.tagName.toLowerCase()&&h(Object.assign(g[t],{tag:t}))};return n.a.createElement("div",{className:"two-in-row"},n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"two-in-row__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-14",admin:a})),n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"two-in-row__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-15",admin:a})))},R=!0,H=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(r["twoInColumn-".concat(o)]?r["twoInColumn-".concat(o)].styles:{div:{width:"90",className:"two-in-column-".concat(o)}}),f=Object(l.a)(i,2),g=f[0],p=f[1],v=Object(m.d)((function(e){if(g)try{if(g[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},g);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return g}return g}),m.b),h=function(e){return s(u(e))};Object(c.useEffect)((function(){R&&p(v),R=!R}),[v]),t=Object(b.a)({},"twoInColumn-".concat(o),{styles:g,key:"twoInColumn-".concat(o)}),s(d(t));var E=function(e){for(var t in g)t===e.target.tagName.toLowerCase()&&h(Object.assign(g[t],{tag:t}))};return n.a.createElement("div",{className:"two-in-column"},n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"two-in-column__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-12",admin:a})),n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"two-in-column__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-13",admin:a})))},J=!0,Y=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(r["grid-".concat(o)]?r["grid-".concat(o)].styles:{div:{width:"40",className:"grid-".concat(o)}}),f=Object(l.a)(i,2),g=f[0],p=f[1],v=Object(m.d)((function(e){if(g)try{if(g[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},g);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return g}return g}),m.b),h=function(e){return s(u(e))};Object(c.useEffect)((function(){J&&p(v),J=!J}),[v]),t=Object(b.a)({},"grid-".concat(o),{styles:g,key:"grid-".concat(o)}),s(d(t));var E=function(e){for(var t in g)t===e.target.tagName.toLowerCase()&&h(Object.assign(g[t],{tag:t}))};return n.a.createElement("div",{className:"grid"},n.a.createElement("div",{className:"grid-row"},n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"grid-row__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-2",admin:a})),n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"grid-row__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-3",admin:a}))),n.a.createElement("div",{className:"grid-row"},n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"grid-row__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-4",admin:a})),n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"grid-row__content-box ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-5",admin:a}))))},G=!0,V=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(r["rightContent-".concat(o)]?r["rightContent-".concat(o)].styles:{div:{width:"100",className:"right-content-".concat(o)},divb:{width:"40",className:"right-content-b-".concat(o)}}),f=Object(l.a)(i,2),g=f[0],p=f[1],v=Object(m.d)((function(e){if(g)try{if(g[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},g);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return g}return g}),m.b),h=function(e){return s(u(e))};Object(c.useEffect)((function(){G&&p(v),G=!G}),[v]),t=Object(b.a)({},"rightContent-".concat(o),{styles:g,key:"rightContent-".concat(o)}),s(d(t));var E=function(e){for(var t in g)t===e.target.tagName.toLowerCase()&&h(Object.assign(g[t],{tag:t}))};return n.a.createElement("div",{className:"right-content"},n.a.createElement("div",{className:"right-content-leftSIde"},n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"right-content-small ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-9",admin:a})),n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"right-content-small ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-10",admin:a}))),n.a.createElement("divb",{onClick:E,style:{width:"".concat(g.divb.width,"%")},className:"right-content-big ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-11",admin:a})))},X=!0,W=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(r["leftContent-".concat(o)]?r["leftContent-".concat(o)].styles:{div:{width:"100",className:"left-content-".concat(o)},divb:{width:"40",className:"left-content-b-".concat(o)}}),f=Object(l.a)(i,2),g=f[0],p=f[1],v=Object(m.d)((function(e){if(g)try{if(g[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},g);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return g}return g}),m.b),h=function(e){return s(u(e))};Object(c.useEffect)((function(){X&&p(v),X=!X}),[v]),t=Object(b.a)({},"leftContent-".concat(o),{styles:g,key:"leftContent-".concat(o)}),s(d(t));var E=function(e){for(var t in g)t===e.target.tagName.toLowerCase()&&h(Object.assign(g[t],{tag:t}))};return n.a.createElement("div",{className:"right-content"},n.a.createElement("divb",{onClick:E,style:{width:"".concat(g.divb.width,"%")},className:"right-content-big ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-6",admin:a})),n.a.createElement("div",{className:"right-content-leftSIde"},n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"right-content-small ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-7",admin:a})),n.a.createElement("div",{onClick:E,style:{width:"".concat(g.div.width,"%")},className:"right-content-small ".concat(a&&"templates-border")},n.a.createElement(A,{data:r,divCount:0,classKey:o+"-8",admin:a}))))},q=function(e){var t,a=e.admin,o=e.section,r=e.data,s=Object(m.c)(),i=Object(c.useState)(!1),u=Object(l.a)(i,2),f=u[0],g=u[1],v=Object(c.useState)(r["chooseTemplate-".concat(o)]?r["chooseTemplate-".concat(o)].activeTemplate:{one:!1,twoInRow:!1,twoInColumn:!1,grid:!1,rightContent:!1,leftContent:!1}),h=Object(l.a)(v,2),E=h[0],j=h[1];t=Object(b.a)({},"chooseTemplate-".concat(o),{activeTemplate:E}),s(d(t));return n.a.createElement(n.a.Fragment,null,f&&n.a.createElement(O,{chooseTemplate:function(e){if(""!==e){g(!f);var t=Object.assign({},E);for(var a in t)t[a]=!1;t[e]=!0,j(t)}}}),a&&n.a.createElement(p,{onClick:function(){g(!f)},className:"choose-template__button"},n.a.createElement("i",{className:"fas fa-plus"}," ")),E.one&&n.a.createElement(K,{data:r,section:o,admin:a}),E.twoInRow&&n.a.createElement(U,{data:r,section:o,admin:a}),E.twoInColumn&&n.a.createElement(H,{data:r,section:o,admin:a}),E.grid&&n.a.createElement(Y,{data:r,section:o,admin:a}),E.rightContent&&n.a.createElement(V,{data:r,section:o,admin:a}),E.leftContent&&n.a.createElement(W,{data:r,section:o,admin:a}))},Q=!0,Z=function(e){var t=e.admin,a=e.data,o=Object(m.c)(),r=Object(c.useState)(a.home?a.home.styles:{section:{bc:"#ffffff",className:"home"}}),s=Object(l.a)(r,2),i=s[0],f=s[1],b=Object(c.useState)(),g=Object(l.a)(b,2),p=g[0],v=g[1],h=Object(c.useState)(),E=Object(l.a)(h,2),O=E[0],j=E[1],y=Object(m.d)((function(e){if(i)try{if(i[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},i);return t.section.bc||(t.section.bc="#ffffff"),t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return i}return i}),m.b),N=Object(m.d)((function(e){return e.stylePanelState}),m.b),_=function(e){return o(u(e))};Object(c.useEffect)((function(){Q&&f(y),Q=!Q}),[y]),o(d({home:{styles:i}}));return n.a.createElement("section",{onMouseOver:function(e){if(e.preventDefault(),N)for(var t in i)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},i);"rgb(0,57,167)"!==a[t].bc&&v(a[t].bc),"rgb(76,131,253)"!==a[t].color&&j(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),f(a)}},onMouseOut:function(e){if(e.preventDefault(),N)for(var t in i)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},i);a[t].bc&&(a[t].bc=p),a[t].color&&(a[t].color=O),f(a)}},className:"home",onClick:function(e){for(var t in i)t===e.target.tagName.toLowerCase()&&_(Object.assign(i[t],{tag:t}))},style:{backgroundColor:i.section.bc}},n.a.createElement(q,{data:a,section:"home",admin:t}))},$=!0,ee=function(e){var t=e.heading,a=e.text,o=e.time,r=e.date,s=e.styleKey,i=e.admin,d=e.deletePost,f=e.src,g=e.returnStyles,h=e.style;console.log(h);var O=Object(m.c)(),j=Object(c.useState)(h?h.styles:{div:{bc:"#14B9D5",color:"#ffffff",width:"80",className:"post-".concat(s)},h2:{fontSize:"40",className:"post__h2-".concat(s)},img:{width:"300",height:"10",className:"post__img-".concat(s)}}),y=Object(l.a)(j,2),N=y[0],_=y[1],S=Object(c.useState)(),w=Object(l.a)(S,2),C=w[0],k=w[1],x=Object(c.useState)(),T=Object(l.a)(x,2),L=T[0],I=T[1],D=Object(m.d)((function(e){if(N)try{if(N[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},N);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return N}return N}),m.b),P=Object(m.d)((function(e){return e.modalState}),m.b),z=Object(m.d)((function(e){return e.stylePanelState}),m.b),M=function(){return O({type:"CHANGE_MODAL_STATE"})};Object(c.useEffect)((function(){$&&_(D),g(Object(b.a)({},"post-".concat(s),{styles:N,key:"post-".concat(s)})),$=!$}),[D]);var A=function(e){for(var t in e.stopPropagation(),N)t===e.target.tagName.toLowerCase()&&(a=Object.assign(N[t],{tag:t}),O(u(a)));var a};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onMouseOver:function(e){if(e.preventDefault(),z)for(var t in N)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},N);"rgb(0,57,167)"!==a[t].bc&&k(a[t].bc),"rgb(76,131,253)"!==a[t].color&&I(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),_(a)}},onMouseOut:function(e){if(e.preventDefault(),z)for(var t in N)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},N);a[t].bc&&(a[t].bc=C),a[t].color&&(a[t].color=L),_(a)}},onClick:A,style:{backgroundColor:N.div.bc,color:N.div.color,width:"".concat(N.div.width,"%")},className:"post"},f&&n.a.createElement("div",{className:"post__img-box"},n.a.createElement("img",{style:{width:"".concat(N.img.width,"px"),height:"".concat(N.img.height,"em")},className:"post__img",alt:"img",src:f})),n.a.createElement("h2",{onClick:A,style:{fontSize:"".concat(N.h2.fontSize,"px")}},t),n.a.createElement("p",{className:"post__text"},a),n.a.createElement("div",{className:"post__date-box"},n.a.createElement("p",{className:"post__date-box__minutes"},o),n.a.createElement("p",null,r)),i&&n.a.createElement(p,{className:"tags-constructor__delete post-delete",onClick:function(){!P&&M()}},n.a.createElement("i",{className:"fas fa-trash-alt"}," "))),P&&n.a.createElement(v,null,n.a.createElement(E,{text:"Are you sure you want to delete the post ?",buttonConfirmText:"Delete",buttonCancelText:"Cancel",func:function(e){e&&d(s),M()}})))},te=function(e){var t=e.updateData,a=Object(c.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1],i=Object(c.useState)(""),m=Object(l.a)(i,2),u=m[0],d=m[1],f=Object(c.useState)(""),b=Object(l.a)(f,2),g=b[0],v=b[1],h=Object(c.useState)(!1),E=Object(l.a)(h,2),O=E[0],j=E[1],y=function(e){var t=e.target;v(t.value)};return n.a.createElement("div",{className:"new-post"},n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("p",null,"Enter heading:"),n.a.createElement("textarea",{cols:"29",rows:"2",className:"new-post__h",onChange:function(e){var t=e.target;s(t.value)}})),O&&n.a.createElement("p",{className:"new-post__error-text"},"Empty!"),n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("p",null,"Enter text:"),n.a.createElement("textarea",{cols:"29",rows:"5",className:"new-post__p",onChange:function(e){var t=e.target;d(t.value)}})),O&&n.a.createElement("p",{className:"new-post__error-text"},"Empty!"),n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("div",null,"File:",n.a.createElement("input",{className:"img__input",onChange:y,type:"file",accept:"image/*"})),n.a.createElement("div",null,"Link:",n.a.createElement("input",{className:"img__input",onChange:y,placeholder:"Link to img"}))),n.a.createElement(p,{className:"new-post__post",onClick:function(){if(""!==r&&""!==u){j(!1);t({heading:r,text:u,date:function(){var e=new Date;return e.getMonth()+1<10?e.getDate()<10?"0".concat(e.getDate(),".0").concat(e.getMonth()+1,".").concat(e.getFullYear()):"".concat(e.getDate(),".0").concat(e.getMonth()+1,".").concat(e.getFullYear()):"".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear())}(),time:function(){var e=new Date;return e.getMinutes()<10?"".concat(e.getHours(),":0").concat(e.getMinutes()):"".concat(e.getHours(),":").concat(e.getMinutes())}(),src:g})}else j(!0)}},"Post"))},ae=!0,ce=function(e){var t=e.admin,a=e.data,o=Object(c.useState)(!1),r=Object(l.a)(o,2),s=r[0],i=r[1],f=Object(c.useState)(a.news?a.news.postsList:[]),b=Object(l.a)(f,2),g=b[0],v=b[1],h=Object(c.useState)(a.news?a.news.styleList:{}),E=Object(l.a)(h,2),O=E[0],j=E[1],y=Object(m.c)(),N=Object(c.useState)(a.news?a.news.styles:{section:{bc:"#ffffff",fontSize:"20",className:"news"},div:{bc:"#ffffff",width:"40",className:"news__postsBox"}}),_=Object(l.a)(N,2),S=_[0],w=_[1],C=Object(c.useState)(),k=Object(l.a)(C,2),x=k[0],T=k[1],L=Object(c.useState)(),I=Object(l.a)(L,2),D=I[0],P=I[1],z=Object(m.d)((function(e){if(S)try{if(S[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},S);return t.section.bc||(t.section.bc="#ffffff"),t.div.bc||(t.div.bc="#ffffff"),t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return S}return S}),m.b),M=Object(m.d)((function(e){return e.stylePanelState}),m.b),A=function(e){return y(u(e))};Object(c.useEffect)((function(){ae&&w(z),ae=!ae}),[z]),y(d({news:{styles:S,postsList:g,styleList:O}}));var B=function(e){for(var t in e.stopPropagation(),S)t===e.target.tagName.toLowerCase()&&A(Object.assign(S[t],{tag:t}))},K=function(e){j(Object.assign(O,e))},F=function(){i(!s)},U=function(e){var t=g.slice();t.splice(e,1),v(t)},R=function(e){if(e.stopPropagation(),M)for(var t in S)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},S);"rgb(0,57,167)"!==a[t].bc&&T(a[t].bc),"rgb(76,131,253)"!==a[t].color&&P(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),w(a)}},H=function(e){if(e.stopPropagation(),M)for(var t in S)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},S);a[t].bc&&(a[t].bc=x),a[t].color&&(a[t].color=D),w(a)}};return n.a.createElement("section",{onMouseOver:R,onMouseOut:H,onClick:B,style:{backgroundColor:S.section.bc,fontSize:"".concat(S.section.fontSize,"px")},className:"news"},t&&n.a.createElement(p,{className:"news__add-post",onClick:F},"Add new post"),s&&n.a.createElement(te,{updateData:function(e){v(g.concat(e)),F()}}),0!==g.length&&n.a.createElement("div",{onMouseOver:R,onMouseOut:H,onClick:B,style:{backgroundColor:S.div.bc,width:"".concat(S.div.width,"%")},className:"news__posts-box"},g.map((function(e,a){return n.a.createElement(ee,{returnStyles:K,deletePost:U,heading:e.heading,text:e.text,date:e.date,time:e.time,src:e.src,key:a,styleKey:a,admin:t,style:O["post-".concat(a)]})}))),0===g.length&&t&&n.a.createElement("p",{className:"news__clear-p"},"Add your innovations here!"))},ne=!0,oe=function(e){var t=e.admin,a=e.data,o=Object(m.c)(),r=Object(c.useState)(a.aboutUs?a.aboutUs.styles:{section:{bc:"#ffffff",className:"about-us"}}),s=Object(l.a)(r,2),i=s[0],f=s[1],b=Object(c.useState)(),g=Object(l.a)(b,2),p=g[0],v=g[1],h=Object(c.useState)(),E=Object(l.a)(h,2),O=E[0],j=E[1],y=Object(m.d)((function(e){if(i)try{if(i[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},i);return t.section.bc||(t.section.bc="#ffffff"),t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return i}return i}),m.b),N=Object(m.d)((function(e){return e.stylePanelState}),m.b),_=function(e){return o(u(e))};Object(c.useEffect)((function(){ne&&f(y),ne=!ne}),[y]),o(d({aboutUs:{styles:i}}));return n.a.createElement("section",{onMouseOver:function(e){if(e.preventDefault(),N)for(var t in i)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},i);"rgb(0,57,167)"!==a[t].bc&&v(a[t].bc),"rgb(76,131,253)"!==a[t].color&&j(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),f(a)}},onMouseOut:function(e){if(e.preventDefault(),N)for(var t in i)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},i);a[t].bc&&(a[t].bc=p),a[t].color&&(a[t].color=O),f(a)}},className:"about-us",onClick:function(e){for(var t in i)t===e.target.tagName.toLowerCase()&&_(Object.assign(i[t],{tag:t}))},style:{backgroundColor:i.section.bc,fontSize:"20px"}},n.a.createElement(q,{data:a,section:"about-us",admin:t}))},re=function(e){var t=e.updateData,a=Object(c.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1],i=Object(c.useState)(""),m=Object(l.a)(i,2),u=m[0],d=m[1],f=Object(c.useState)(""),b=Object(l.a)(f,2),g=b[0],v=b[1],h=Object(c.useState)(""),E=Object(l.a)(h,2),O=E[0],j=E[1],y=Object(c.useState)(!1),N=Object(l.a)(y,2),_=N[0],S=N[1],w=function(e){var t=e.target;j(t.value)};return n.a.createElement("div",{className:"new-product"},n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("p",null,"Enter Title:"),n.a.createElement("textarea",{cols:"29",rows:"2",className:"new-post__h",onChange:function(e){var t=e.target;s(t.value)}})),_&&n.a.createElement("p",{className:"new-post__error-text"},"Empty!"),n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("p",null,"Enter description:"),n.a.createElement("textarea",{cols:"29",rows:"5",className:"new-post__p",onChange:function(e){var t=e.target;d(t.value)}})),_&&n.a.createElement("p",{className:"new-post__error-text"},"Empty!"),n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("p",null,"Enter price:"),n.a.createElement("textarea",{cols:"29",rows:"2",className:"new-post__p",onChange:function(e){var t=e.target;v(t.value)}})),_&&n.a.createElement("p",{className:"new-post__error-text"},"Empty!"),n.a.createElement("div",{className:"new-post__input-box"},n.a.createElement("div",null,"File:",n.a.createElement("input",{className:"img__input",onChange:w,type:"file",accept:"image/*"})),n.a.createElement("div",null,"Link:",n.a.createElement("input",{className:"img__input",onChange:w,placeholder:"Link to img"}))),n.a.createElement(p,{className:"new-post__post",onClick:function(){""!==r&&""!==u&&""!==g?(S(!1),t({title:r,description:u,price:g,src:O})):S(!0)}},"Post product"))},se=!0,ie=function(e){var t=e.title,a=e.description,o=e.price,r=e.styleKey,s=e.admin,i=e.deleteProduct,d=e.src,f=e.returnStyles,g=e.style,h=Object(c.useState)(1),O=Object(l.a)(h,2),j=O[0],y=O[1],N=Object(c.useState)(!1),_=Object(l.a)(N,2),S=_[0],w=_[1],C=Object(m.c)(),k=Object(c.useState)(g?g.styles:{div:{bc:"#ffffff",color:"#000000",width:"80",className:"product-".concat(r)},h2:{fontSize:"40",className:"product__h2-".concat(r)},img:{width:"300",height:"10",className:"product__img-".concat(r)},input:{bc:"#ffffff",color:"#14B9D5",className:"product__input-".concat(r)}}),x=Object(l.a)(k,2),T=x[0],L=x[1],I=Object(c.useState)(),D=Object(l.a)(I,2),P=D[0],z=D[1],M=Object(c.useState)(),A=Object(l.a)(M,2),B=A[0],K=A[1],F=Object(m.d)((function(e){if(T)try{if(T[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},T);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return T}return T}),m.b),U=Object(m.d)((function(e){return e.stylePanelState}),m.b),R=Object(m.d)((function(e){return e.modalState}),m.b),H=function(){return C({type:"CHANGE_MODAL_STATE"})};Object(c.useEffect)((function(){se&&L(F),f(Object(b.a)({},"product-".concat(r),{styles:T,key:"product-".concat(r)})),se=!se}),[F]);var J=function(e){for(var t in e.stopPropagation(),T)t===e.target.tagName.toLowerCase()&&(a=Object.assign(T[t],{tag:t}),C(u(a)));var a},Y=function(e){if(e.preventDefault(),U)for(var t in T)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},T);"rgb(0,57,167)"!==a[t].bc&&z(a[t].bc),"rgb(76,131,253)"!==a[t].color&&K(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),L(a)}},G=function(e){if(e.preventDefault(),U)for(var t in T)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},T);a[t].bc&&(a[t].bc=P),a[t].color&&(a[t].color=B),L(a)}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onMouseOver:Y,onMouseOut:G,onClick:J,style:{backgroundColor:T.div.bc,color:T.div.color,width:"".concat(T.div.width,"%")},className:"product"},d&&n.a.createElement("div",{className:"product__img-box"},n.a.createElement("img",{style:{width:"".concat(T.img.width,"px"),height:"".concat(T.img.height,"em")},className:"product__img",alt:"img",src:d})),n.a.createElement("h2",{className:"product__h2",onClick:J,style:{fontSize:"".concat(T.h2.fontSize,"px")}},t),n.a.createElement("p",{className:"product__text"},a),n.a.createElement("p",{className:"product__price"},o),n.a.createElement("div",{className:"product__bottom-box"},n.a.createElement("input",{onMouseOver:Y,onMouseOut:G,style:{backgroundColor:T.input.bc,color:T.input.color},onChange:function(e){var t=e.target;y(t.value)},min:"1",className:"product__counter",type:"number",value:j}),n.a.createElement(p,{onClick:function(){w(!0)},className:"product__buy ".concat(S&&"product__buy-confirm")},"buy now ",S&&n.a.createElement("i",{className:"fas fa-check ".concat(S&&"product__buy-check")}," "))),s&&n.a.createElement(p,{className:"tags-constructor__delete post-delete",onClick:function(){!R&&H()}},n.a.createElement("i",{className:"fas fa-trash-alt"}," "))),R&&n.a.createElement(v,null,n.a.createElement(E,{text:"Are you sure you want to delete the product ?",buttonConfirmText:"Delete",buttonCancelText:"Cancel",func:function(e){e&&i(r),H()}})))},le=!0,me=function(e){var t=e.admin,a=e.data,o=Object(m.c)(),r=Object(c.useState)(a.products?a.products.productList:[]),s=Object(l.a)(r,2),i=s[0],f=s[1],b=Object(c.useState)(!1),g=Object(l.a)(b,2),v=g[0],h=g[1],E=Object(c.useState)(a.products?a.products.styleList:{}),O=Object(l.a)(E,2),j=O[0],y=O[1],N=Object(c.useState)(a.products?a.products.styles:{section:{bc:"#FFF",fontSize:"20",className:"products"},div:{bc:"#ffffff",width:"40",className:"products__productsBox"}}),_=Object(l.a)(N,2),S=_[0],w=_[1],C=Object(c.useState)(),k=Object(l.a)(C,2),x=k[0],T=k[1],L=Object(c.useState)(),I=Object(l.a)(L,2),D=I[0],P=I[1],z=Object(m.d)((function(e){if(S)try{if(S[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},S);return t.section.bc||(t.section.bc="#ffffff"),t.div.bc||(t.div.bc="#ffffff"),t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return S}return S}),m.b),M=Object(m.d)((function(e){return e.stylePanelState}),m.b),A=function(e){return o(u(e))};Object(c.useEffect)((function(){le&&w(z),le=!le}),[z]),o(d({products:{styles:S,productList:i,styleList:j}}));var B=function(e){for(var t in e.stopPropagation(),S)t===e.target.tagName.toLowerCase()&&A(Object.assign(S[t],{tag:t}))},K=function(){h(!v)},F=function(e){var t=i.slice();t.splice(e,1),f(t)},U=function(e){y(Object.assign(j,e))},R=function(e){if(e.stopPropagation(),M)for(var t in S)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},S);"rgb(0,57,167)"!==a[t].bc&&T(a[t].bc),"rgb(76,131,253)"!==a[t].color&&P(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),w(a)}},H=function(e){if(e.stopPropagation(),M)for(var t in S)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},S);a[t].bc&&(a[t].bc=x),a[t].color&&(a[t].color=D),w(a)}};return n.a.createElement("section",{onMouseOver:R,onMouseOut:H,className:"products",onClick:B,style:{backgroundColor:S.section.bc,fontSize:"".concat(S.section.fontSize,"px")}},t&&n.a.createElement(p,{className:"news__add-post",onClick:K},"Add new product"),v&&n.a.createElement(re,{updateData:function(e){f(i.concat(e)),K()}}),0!==i.length&&n.a.createElement("div",{onMouseOver:R,onMouseOut:H,onClick:B,style:{backgroundColor:S.div.bc,width:"".concat(S.div.width,"%")},className:"news__posts-box-p"},i.map((function(e,a){return n.a.createElement(ie,{returnStyles:U,deleteProduct:F,title:e.title,description:e.description,price:e.price,src:e.src,key:a,styleKey:a,admin:t,style:j["product-".concat(a)]})}))),0===i.length&&t&&n.a.createElement("p",{className:"news__clear-p"},"Add your products here!"))},ue=function(e){var t=e.onChange,a=e.name,c=e.activeSections;return n.a.createElement("label",{className:"switch"},n.a.createElement("input",{onChange:function(){t(a)},type:"checkbox",checked:c&&"checked"}),n.a.createElement("span",{className:"slider round"}," "))},de=!0,fe=function(e){var t=e.admin,a=e.path,o=e.data,r=Object(m.c)(),i=Object(c.useState)(o.header?o.header.activeSections:{news:!1,aboutUs:!1,products:!1}),b=Object(l.a)(i,2),g=b[0],p=b[1],v=Object(c.useState)(o.header?o.header.styles:{header:{bc:"#1D2124",height:"5",className:"header"},a:{color:"#ffffff",fontSize:"20",className:"nav__li"}}),h=Object(l.a)(v,2),E=h[0],O=h[1],j=Object(c.useState)(),_=Object(l.a)(j,2),S=_[0],w=_[1],C=Object(c.useState)(),k=Object(l.a)(C,2),x=k[0],T=k[1],L=Object(m.d)((function(e){if(E)try{if(E[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},E);return t.header.bc||(t.header.bc="#000000"),t.a.color||(t.a.color="#ffffff"),t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return E}return E}),m.b),I=Object(m.d)((function(e){return e.stylePanelState}),m.b),D=Object(m.d)((function(e){var t=e.mongoDBId;return localStorage.getItem("key")?localStorage.getItem("key"):t}),m.b),P=Object(m.d)((function(e){return e.projectChangedData}),m.b),z=function(e){return r(u(e))},M=function(e){return r(f(e))};Object(c.useEffect)((function(){de&&O(L),de=!de}),[L]),r(d({header:{activeSections:g,styles:E}}));var A=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=9;break}return e.next=3,fetch("http://localhost:5000/projectData/".concat(D),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});case 3:return t=e.sent,e.next=6,t.json();case 6:e.sent,e.next=17;break;case 9:return e.next=11,fetch("http://localhost:5000/projectData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});case 11:return a=e.sent,e.next=14,a.json();case 14:c=e.sent,localStorage.setItem("key","".concat(c.result._id)),M(localStorage.getItem("key"));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=Object.assign({},g);t[e]=!t[e],p(t)},K=function(e){for(var t in e.stopPropagation(),A(),E)t===e.target.tagName.toLowerCase()&&z(Object.assign(E[t],{tag:t}))},F=function(e){if(e.stopPropagation(),I)for(var t in E)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},E);"rgb(0,57,167)"!==a[t].bc&&w(a[t].bc),"rgb(76,131,253)"!==a[t].color&&T(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),O(a)}},U=function(e){if(e.stopPropagation(),I)for(var t in E)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},E);a[t].bc&&(a[t].bc=S),a[t].color&&(a[t].color=x),O(a)}};return n.a.createElement("header",{onMouseOver:F,onMouseOut:U,onClick:K,style:{backgroundColor:E.header.bc,height:"".concat(E.header.height,"em")}},n.a.createElement("nav",{onClick:K},n.a.createElement("li",null,n.a.createElement(s.b,{onMouseOver:F,onMouseOut:U,onClick:K,style:{color:E.a.color,fontSize:"".concat(E.a.fontSize,"px")},to:"/".concat(a,"/").concat(D,"/home")},"Home")),n.a.createElement("div",{className:"li-box ".concat(t&&"li-box-active")},g.news&&n.a.createElement("li",null,n.a.createElement(s.b,{onMouseOver:F,onMouseOut:U,onClick:K,style:{color:E.a.color,fontSize:"".concat(E.a.fontSize,"px")},to:"/".concat(a,"/").concat(D,"/news")},"News")),!g.news&&t&&n.a.createElement("li",{className:"inactive"},"News"),t&&n.a.createElement(ue,{activeSections:g.news,onChange:B,name:"news"})),n.a.createElement("div",{className:"li-box ".concat(t&&"li-box-active")},g.aboutUs&&n.a.createElement("li",null,n.a.createElement(s.b,{onMouseOver:F,onMouseOut:U,onClick:K,style:{color:E.a.color,fontSize:"".concat(E.a.fontSize,"px")},to:"/".concat(a,"/").concat(D,"/aboutus")},"About us")),!g.aboutUs&&t&&n.a.createElement("li",{className:"inactive"},"About us"),t&&n.a.createElement(ue,{activeSections:g.aboutUs,onChange:B,name:"aboutUs"})),n.a.createElement("div",{className:"li-box ".concat(t&&"li-box-active")},g.products&&n.a.createElement("li",null,n.a.createElement(s.b,{onMouseOver:F,onMouseOut:U,onClick:K,style:{color:E.a.color,fontSize:"".concat(E.a.fontSize,"px")},to:"/".concat(a,"/").concat(D,"/products")},"Products")),!g.products&&t&&n.a.createElement("li",{className:"inactive"},"Products"),t&&n.a.createElement(ue,{activeSections:g.products,onChange:B,name:"products"}))))},be=!0,ge=function(e){e.admin;var t=e.data,a=Object(m.c)(),o=Object(c.useState)(t.footer?t.footer.styles:{footer:{bc:"#1D2124",height:"5",className:"footer"}}),r=Object(l.a)(o,2),s=r[0],i=r[1],f=Object(c.useState)(),b=Object(l.a)(f,2),g=b[0],p=b[1],v=Object(c.useState)(),h=Object(l.a)(v,2),E=h[0],O=h[1],j=Object(m.d)((function(e){if(s)try{if(s[e.activeStyle.tag].className===e.activeStyle.className){var t=Object.assign({},s);return t[e.activeStyle.tag]=e.activeStyle,t}}catch(a){return s}return s}),m.b),y=Object(m.d)((function(e){return e.stylePanelState}),m.b),N=function(e){return a(u(e))};Object(c.useEffect)((function(){be&&i(j),be=!be}),[j]),a(d({footer:{styles:s}}));return n.a.createElement("footer",{onMouseOver:function(e){if(e.preventDefault(),y)for(var t in s)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},s);"rgb(0,57,167)"!==a[t].bc&&p(a[t].bc),"rgb(76,131,253)"!==a[t].color&&O(a[t].color),a[t].bc&&(a[t].bc="rgb(0,57,167)"),a[t].color&&(a[t].color="rgb(76,131,253)"),i(a)}},onMouseOut:function(e){if(e.preventDefault(),y)for(var t in s)if(t===e.target.tagName.toLowerCase()){var a=Object.assign({},s);a[t].bc&&(a[t].bc=g),a[t].color&&(a[t].color=E),i(a)}},onClick:function(e){for(var t in s)t===e.target.tagName.toLowerCase()&&N(Object.assign(s[t],{tag:t}))},style:{backgroundColor:s.footer.bc,height:"".concat(s.footer.height,"em")}}," ")},pe=function(e){var t=e.children,a=e.admin,c=e.path,o=e.data;return n.a.createElement("section",{className:"main-section"},n.a.createElement(fe,{data:o,admin:a,path:c}),t,n.a.createElement(ge,{data:o,admin:a}))},ve=function(e){var t=e.admin,a=e.path,o=Object(m.c)(),r=Object(i.h)(),s=Object(c.useState)(!0),u=Object(l.a)(s,2),f=u[0],b=u[1],g=Object(c.useState)(!1),p=Object(l.a)(g,2),v=p[0],h=p[1],E=Object(c.useState)(!1),O=Object(l.a)(E,2),j=O[0],y=(O[1],Object(c.useState)(!1)),N=Object(l.a)(y,2),_=(N[0],N[1]),S=Object(m.d)((function(e){var t=e.mongoDBId;return localStorage.getItem("key")?localStorage.getItem("key"):t}),m.b);return Object(c.useEffect)((function(){!t&&function(){var e=r.pathname.split("/").reduce((function(e,t){return _("admin"===t),e.length>t.length?e:t}),"");localStorage.setItem("key",e)}(),f&&S&&fetch("http://localhost:5000/projectData/".concat(S)).then((function(e){return e.json()})).then((function(e){var t,a=e.result;try{h(a[0].data),t=a[0].data,o(d(t))}catch(c){}})),b(!1)})),n.a.createElement(n.a.Fragment,null,(v||j)&&n.a.createElement(pe,{data:v,admin:t,path:a},n.a.createElement(i.d,null,(t?localStorage.getItem("accessToken"):n.a.createElement(n.a.Fragment,null,n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/home")},n.a.createElement(Z,{data:v,admin:t})),n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/news")},n.a.createElement(ce,{data:v,admin:t})),n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/aboutus")},n.a.createElement(oe,{data:v,admin:t})),n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/products")},n.a.createElement(me,{data:v,admin:t}))))?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/home")},n.a.createElement(Z,{data:v,admin:t})),n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/news")},n.a.createElement(ce,{data:v,admin:t})),n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/aboutus")},n.a.createElement(oe,{data:v,admin:t})),n.a.createElement(i.b,{path:"/".concat(a,"/").concat(S,"/products")},n.a.createElement(me,{data:v,admin:t}))):n.a.createElement(i.a,{to:"/auth"}))))},he=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.activeStyle})),a=function(t){return e(u(t))},c=function(e){var c=e.target;if(""===c.value)a(t);else{var n=Object.assign({},t);n[c.id]=c.value,a(n)}};return n.a.createElement("div",{className:"style"},t.tag&&n.a.createElement("h2",{className:"style__tagName"},t.tag),t.bc&&n.a.createElement("div",null,"Background color:",n.a.createElement("input",{id:"bc",onChange:c,type:"color",value:t.bc})),t.height&&n.a.createElement("div",null,"Height:",n.a.createElement("input",{id:"height",onChange:c,type:"number",value:t.height,min:"1"})),t.fontSize&&n.a.createElement("div",null,"Font size:",n.a.createElement("input",{id:"fontSize",onChange:c,type:"number",min:"10",value:t.fontSize})),t.color&&n.a.createElement("div",null,"Text color:",n.a.createElement("input",{id:"color",onChange:c,type:"color",value:t.color})),t.width&&n.a.createElement("div",null,"Width:",n.a.createElement("input",{id:"width",onChange:c,type:"number",value:t.width,min:"10"})),t.marginTop&&n.a.createElement("div",null,"Top indent:",n.a.createElement("input",{id:"marginTop",onChange:c,type:"number",value:t.marginTop,min:"0",max:"48"})),t.marginBottom&&n.a.createElement("div",null,"Bottom indent:",n.a.createElement("input",{id:"marginBottom",onChange:c,type:"number",value:t.marginBottom,min:"0",max:"48"})),t.marginRight&&n.a.createElement("div",null,"Right indent:",n.a.createElement("input",{id:"marginRight",onChange:c,type:"number",value:t.marginRight,min:"0",max:"48"})),t.marginLeft&&n.a.createElement("div",null,"Left indent:",n.a.createElement("input",{id:"marginLeft",onChange:c,type:"number",value:t.marginLeft,min:"0"})),t.br&&n.a.createElement("div",null,"Border radius:",n.a.createElement("input",{id:"br",onChange:c,type:"number",value:t.br,min:"0"})))},Ee=function(e){var t=e.children,a=Object(m.c)(),o=Object(c.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],d=Object(m.d)((function(e){return e.stylePanelState}),m.b),b=Object(m.d)((function(e){return e.projectChangedData}),m.b),g=Object(m.d)((function(e){var t=e.mongoDBId;return localStorage.getItem("key")?localStorage.getItem("key"):t}),m.b),v=function(){return a({type:"CHANGE_STYLE_PANEL_STATE"})},h=function(){var e=new Date;return e.getMonth()+1<10?e.getDate()<10?"0".concat(e.getDate(),".0").concat(e.getMonth()+1,".").concat(e.getFullYear()):"".concat(e.getDate(),".0").concat(e.getMonth()+1,".").concat(e.getFullYear()):"".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear())},E=function(){var e=Object(N.a)(y.a.mark((function e(){var t,c,n,o,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),setTimeout((function(){return u(!1)}),1500),t=h(),e.next=4,fetch("http://localhost:5000/".concat(localStorage.getItem("userId")),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":localStorage.getItem("accessToken"),projectID:g},body:JSON.stringify({date:t})});case 4:return c=e.sent,e.next=7,c.json();case 7:if(e.sent,!g){e.next=17;break}return e.next=11,fetch("http://localhost:5000/projectData/".concat(g),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});case 11:return n=e.sent,e.next=14,n.json();case 14:e.sent,e.next=25;break;case 17:return e.next=19,fetch("http://localhost:5000/projectData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});case 19:return o=e.sent,e.next=22,o.json();case 22:r=e.sent,localStorage.setItem("key","".concat(r.result._id)),s=localStorage.getItem("key"),a(f(s));case 25:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"control-panel ".concat(!d&&"control-panel-hide")},n.a.createElement(p,{className:"control-panel__button",onClick:v},d&&n.a.createElement("i",{className:"fas fa-bars"}," ")),d&&n.a.createElement("div",{className:"control-panel__save-changes-box"},n.a.createElement(p,{onClick:E,className:"control-panel__save-changes"},!i&&"Save changes",i&&n.a.createElement("i",{className:"fas fa-check control-panel__mark"}))),d&&n.a.createElement(s.b,{className:"control-panel__return",to:"/"},n.a.createElement("i",{className:"fas fa-home"})),d&&n.a.createElement(he,null)),!d&&n.a.createElement(p,{className:"control-panel__hideButton",onClick:v},n.a.createElement("i",{className:"fas fa-bars"}," ")),t)},Oe=a(15),je=Object(Oe.b)({activeStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_STYLE":return t.payload;default:return e}},modalState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MODAL_STATE":return!e;default:return e}},stylePanelState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_STYLE_PANEL_STATE":return!e;default:return e}},projectChangedData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CHOOSE_TEMPLATE_CHANGES":return Object.assign(e,t.payload);default:return e}},mongoDBId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_MONGODB_STYLE_ID":return t.payload;default:return e}},getProjectData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROJECT_DATA":return Object.assign(e,t.payload);default:return e}}}),ye=(a(38),Object(Oe.c)(je,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Ne=function(e){var t=e.back,a=Object(i.g)(),o=Object(c.useState)(!1),r=Object(l.a)(o,2),s=r[0],m=r[1],u=Object(c.useState)(""),d=Object(l.a)(u,2),f=d[0],b=d[1],g=Object(c.useState)(!1),v=Object(l.a)(g,2),h=v[0],E=v[1],O=Object(c.useState)(!1),j=Object(l.a)(O,2),_=j[0],S=j[1],w=Object(c.useState)(""),C=Object(l.a)(w,2),k=C[0],x=C[1],T=Object(c.useState)(""),L=Object(l.a)(T,2),I=L[0],D=L[1],P=function(){var e=Object(N.a)(y.a.mark((function e(t){var c,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f){e.next=5;break}E(!0),e.next=18;break;case 5:if(k){e.next=10;break}E(!1),S(!0),e.next=18;break;case 10:return S(!1),e.next=13,fetch("http://localhost:5000/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:k})});case 13:return c=e.sent,e.next=16,c.json();case 16:"Error"===(n=e.sent).status?D("error"):"ErrorUser"===n.status?D("eUser"):"ErrorPass"===n.status?D("ePass"):(D(""),localStorage.setItem("userId",n.data.id),localStorage.setItem("accessToken",n.data.accessToken),a.push("/"),window.location.reload());case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:P},n.a.createElement("h1",null,"Log In"),n.a.createElement("div",{className:"authorization__input-box"},"Email:",n.a.createElement("input",{onChange:function(e){var t=e.target;b(t.value)},name:"login",type:"email",className:"authorization__input email"}),h&&n.a.createElement("p",{className:"authorization__error-text"},"Empty!")),n.a.createElement("div",{className:"authorization__input-box"},"Password:",n.a.createElement("input",{onChange:function(e){var t=e.target;x(t.value)},name:"password",type:s?"text":"password",className:"authorization__input"}),n.a.createElement("i",{className:s?"fas fa-eye":"fas fa-eye-slash",onClick:function(){return m(!s)}}," "),_&&n.a.createElement("p",{className:"authorization__error-text"},"Empty!")),n.a.createElement(p,{className:"authorization__log-in register-solo"},"Log In"),"error"===I&&n.a.createElement("p",{className:"authorization__response-error-text"},"Error, please try later"),"eUser"===I&&n.a.createElement("p",{className:"authorization__response-error-text"},"User Not found"),"ePass"===I&&n.a.createElement("p",{className:"authorization__response-error-text"},"Invalid Password!")),n.a.createElement("div",{className:"authorization__return-box"},n.a.createElement(p,{onClick:function(){a.goBack(),t({logIn:!1,register:!1,choose:!0})},className:"authorization__return"},"Return")))},_e=function(e){var t=e.back,a=Object(i.g)(),o=Object(c.useState)(!1),r=Object(l.a)(o,2),s=r[0],m=r[1],u=Object(c.useState)(!1),d=Object(l.a)(u,2),f=d[0],b=d[1],g=Object(c.useState)(""),v=Object(l.a)(g,2),h=v[0],E=v[1],O=Object(c.useState)(""),j=Object(l.a)(O,2),_=j[0],S=j[1],w=Object(c.useState)(""),C=Object(l.a)(w,2),k=C[0],x=C[1],T=Object(c.useState)(!0),L=Object(l.a)(T,2),I=L[0],D=L[1],P=Object(c.useState)(!1),z=Object(l.a)(P,2),M=z[0],A=z[1],B=Object(c.useState)(!1),K=Object(l.a)(B,2),F=K[0],U=K[1],R=Object(c.useState)(""),H=Object(l.a)(R,2),J=H[0],Y=H[1],G=function(){var e=Object(N.a)(y.a.mark((function e(t){var c,n,o,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h){e.next=5;break}A(!0),e.next=38;break;case 5:if(_&&k){e.next=10;break}A(!1),U(!0),e.next=38;break;case 10:if(_===k){e.next=15;break}U(!1),D(!1),e.next=38;break;case 15:return D(!0),e.next=18,fetch("http://localhost:5000/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:_})});case 18:return c=e.sent,e.next=21,c.json();case 21:if("Duplicate"!==(n=e.sent).status){e.next=26;break}Y("duplicate"),e.next=38;break;case 26:if("Error"!==n.status){e.next=30;break}Y("error"),e.next=38;break;case 30:return Y(""),e.next=33,fetch("http://localhost:5000/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:_})});case 33:return o=e.sent,e.next=36,o.json();case 36:"Error"===(r=e.sent).status?Y("error"):(Y(""),localStorage.setItem("userId",r.data.id),localStorage.setItem("accessToken",r.data.accessToken),a.push("/"),window.location.reload());case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:G},n.a.createElement("h1",null,"Sign Up"),n.a.createElement("div",{className:"authorization__input-box"},"Email:",n.a.createElement("input",{onChange:function(e){var t=e.target;E(t.value)},name:"login",type:"email",className:"authorization__input email"}),M&&n.a.createElement("p",{className:"authorization__error-text"},"Empty!")),n.a.createElement("div",{className:"authorization__input-box"},"Password:",n.a.createElement("input",{onChange:function(e){var t=e.target;S(t.value)},name:"password",type:s?"text":"password",className:"authorization__input"}),n.a.createElement("i",{className:s?"fas fa-eye":"fas fa-eye-slash",onClick:function(){return m(!s)}}," "),F&&n.a.createElement("p",{className:"authorization__error-text"},"Empty!"),!I&&n.a.createElement("p",{className:"authorization__error-text-match"},"Passwords must match!")),n.a.createElement("div",{className:"authorization__input-box"},"Confirm password:",n.a.createElement("input",{onChange:function(e){var t=e.target;x(t.value)},name:"password",type:f?"text":"password",className:"authorization__input"}),n.a.createElement("i",{className:f?"fas fa-eye":"fas fa-eye-slash",onClick:function(){return b(!f)}}," "),F&&n.a.createElement("p",{className:"authorization__error-text"},"Empty!"),!I&&n.a.createElement("p",{className:"authorization__error-text-match"},"Passwords must match!")),n.a.createElement(p,{className:"authorization__register register-solo"},"Sign Up"),"duplicate"===J&&n.a.createElement("p",{className:"authorization__response-error-text"},"This mail is already in use!")),n.a.createElement("div",{className:"authorization__return-box"},n.a.createElement(p,{onClick:function(){a.goBack(),t({logIn:!1,register:!1,choose:!0})},className:"authorization__return"},"Return")))},Se=function(){var e=Object(i.g)(),t=Object(i.h)();Object(c.useEffect)((function(){localStorage.getItem("accessToken")&&e.push("/")}));var a=Object(c.useState)("/auth"===t.pathname&&{logIn:!1,register:!1,choose:!0}||"/auth/signin"===t.pathname&&{logIn:!0,register:!1,choose:!1}||"/auth/signup"===t.pathname&&{logIn:!1,register:!0,choose:!1}),o=Object(l.a)(a,2),r=o[0],s=o[1];return n.a.createElement("div",{className:"authorization"},r.choose&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Welcome"),n.a.createElement(p,{className:"authorization__log-in",onClick:function(){s({logIn:!0,register:!1,choose:!1}),e.push("/auth/signup",{from:"Authorization"})}},"Log In"),n.a.createElement("div",{className:"authorization__or-box"},n.a.createElement("div",{className:"authorization__line"}," "),"or",n.a.createElement("div",{className:"authorization__line"}," ")),n.a.createElement(p,{className:"authorization__register",onClick:function(){s({logIn:!1,register:!0,choose:!1}),e.push("/auth/signup",{from:"Authorization"})}},"Create Account")),r.logIn&&n.a.createElement(Ne,{back:s}),r.register&&n.a.createElement(_e,{back:s}))},we=function(e){var t=e.projectID,a=e.name,c=e.lastUpdate,o=function(){var e=Object(N.a)(y.a.mark((function e(){var a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/projectData/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.sent,e.next=8,fetch("http://localhost:5000/deletePr/".concat(localStorage.getItem("userId")),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":localStorage.getItem("accessToken")},body:JSON.stringify({projectID:t})});case 8:return c=e.sent,e.next=11,c.json();case 11:e.sent,window.location.reload();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"project"},n.a.createElement("h3",{className:"project__h3"},n.a.createElement("i",{className:"fas fa-angle-left"}),a," ",n.a.createElement("p",{className:"project__slash"},"/"),n.a.createElement("i",{className:"fas fa-angle-right"})),n.a.createElement("div",{className:"project__date-box"},n.a.createElement("p",null,"Last update: ",c)),n.a.createElement("div",{className:"project__button-box"},n.a.createElement(s.b,{className:"project__edit",onClick:function(){localStorage.setItem("key",t)},to:"/admin/".concat(t,"/home")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement(p,{className:"project__delete",onClick:o},n.a.createElement("i",{className:"fas fa-trash-alt"}))))},Ce=(M={header:{activeSections:{news:!1,aboutUs:!1,products:!1},styles:{header:{bc:"#1D2124",height:"5",className:"header"},a:{color:"#ffffff",fontSize:"20",className:"nav__li"}}},home:{styles:{section:{bc:"#ffffff",className:"home"}}}},Object(b.a)(M,"chooseTemplate-home",{activeTemplate:{one:!1,twoInRow:!1,twoInColumn:!1,grid:!1,rightContent:!1,leftContent:!1}}),Object(b.a)(M,"footer",{styles:{footer:{bc:"#1D2124",height:"5",className:"footer"}}}),M),ke=function(e){var t=e.data,a=Object(c.useState)(t.projectsKeyList),o=Object(l.a)(a,2),r=o[0],s=(o[1],Object(c.useState)(t._id)),i=Object(l.a)(s,2),m=i[0],u=(i[1],Object(c.useState)(!1)),d=Object(l.a)(u,2),f=d[0],b=d[1],g=Object(c.useState)(""),v=Object(l.a)(g,2),h=v[0],E=v[1],O=Object(c.useState)(!1),j=Object(l.a)(O,2),_=j[0],S=j[1],w=function(){var e=new Date;return e.getMonth()+1<10?e.getDate()<10?"0".concat(e.getDate(),".0").concat(e.getMonth()+1,".").concat(e.getFullYear()):"".concat(e.getDate(),".0").concat(e.getMonth()+1,".").concat(e.getFullYear()):"".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear())},C=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a,c,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=4;break}S(!0),e.next=19;break;case 4:return S(!1),e.next=7,fetch("http://localhost:5000/projectData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});case 7:return t=e.sent,e.next=10,t.json();case 10:return a=e.sent,c=w(),e.next=14,fetch("http://localhost:5000/newPr/".concat(localStorage.getItem("userId")),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":localStorage.getItem("accessToken")},body:JSON.stringify({projectID:a.result._id,name:h,lastUpdate:c})});case 14:return n=e.sent,e.next=17,n.json();case 17:e.sent,window.location.reload();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"project-list__h2"},"Your Projects"),r&&n.a.createElement("div",{className:"project-list"},r.map((function(e,t){return n.a.createElement(we,Object.assign({key:t,user:m},e))})),n.a.createElement("div",{className:"project"},n.a.createElement("h3",{className:"project__h3-new"},"Create new project"),!f&&n.a.createElement(p,{onClick:function(){return b(!0)},className:"project__add"},"+"),f&&n.a.createElement("input",{className:"project__input",onChange:function(e){var t=e.target;return E(t.value)},placeholder:"Project Name",name:"projectName",value:h}),_&&n.a.createElement("p",{className:"project__error-text"},"Empty!"),f&&n.a.createElement(p,{onClick:C,className:"project__create-new"},"Create"))))},xe=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1];Object(c.useEffect)((function(){fetch("http://localhost:5000/".concat(localStorage.getItem("userId")),{method:"GET",headers:{"x-access-token":localStorage.getItem("accessToken")}}).then((function(e){return e.json()})).then((function(e){var t=e.result;return o(t)}))}));return n.a.createElement(n.a.Fragment,null,a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"desktop__header"},n.a.createElement("h2",{className:"desktop__header__user"},n.a.createElement("p",null,"User:")," ",a.email),n.a.createElement(p,{onClick:function(){localStorage.removeItem("userId"),localStorage.removeItem("accessToken"),window.location.reload()},className:"desktop__header__log-out"},"Log out")),n.a.createElement("div",{className:"desktop-area"},n.a.createElement(ke,{data:a}))))};var Te=function(){return n.a.createElement(s.a,null,n.a.createElement(i.b,{path:"/auth"},n.a.createElement(Se,{path:"/auth"})),n.a.createElement(i.b,{exact:!0,path:"/"},localStorage.getItem("accessToken")?n.a.createElement(xe,{path:""}):n.a.createElement(i.a,{to:"/auth"})),n.a.createElement(m.a,{store:ye},n.a.createElement(i.b,{path:"/user"},n.a.createElement(ve,{admin:!1,path:"user"})),n.a.createElement(i.b,{path:"/admin"},n.a.createElement(Ee,null,n.a.createElement(ve,{admin:!0,path:"admin"})))))};r.a.render(n.a.createElement(Te,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.5d829757.chunk.js.map